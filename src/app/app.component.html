<div class="app-shell min-h-screen flex flex-col">
  <!-- Header -->
  <header class="app-header py-8 px-4 shadow-lg">
    <div class="container mx-auto max-w-6xl">
      <div
        class="flex flex-col md:flex-row md:items-center md:justify-between gap-6"
      >
        <div>
          <h1 class="text-4xl md:text-5xl font-bold mb-2">{{ title() }}</h1>
          <p class="text-lg md:text-xl text-muted">
            Full Stack Developer & Game Creator
          </p>
        </div>
        @defer (on idle) {
          <div class="theme-toggle flex flex-col items-center md:items-end">
            <button
              pButton
              type="button"
              class="p-button-raised p-button-secondary"
              (click)="toggleTheme()"
              [attr.aria-pressed]="isDarkMode()"
              [attr.aria-label]="themeToggleLabel()"
            >
              <i
                class="fa-solid"
                [class.fa-moon]="!isDarkMode()"
                [class.fa-sun]="isDarkMode()"
              ></i>
            </button>
            <span class="mt-2 text-sm" style="color: var(--app-text-muted)">
              {{ themeToggleLabel() }}
            </span>
          </div>
        } @placeholder {
          <div
            class="theme-toggle flex flex-col items-center md:items-end"
            aria-hidden="true"
          >
            <div
              class="p-button p-button-secondary p-button-raised flex items-center justify-center"
              style="width: 44px; height: 38px; border-radius: 0.75rem"
            >
              <i class="fa-solid fa-spinner fa-spin"></i>
            </div>
            <span class="mt-2 text-sm" style="color: var(--app-text-muted)">
              Loadingâ€¦
            </span>
          </div>
        }
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="flex-grow container mx-auto max-w-6xl px-4 py-8">
    <p-tabs
      class="custom-tabs"
      [value]="activeTab()"
      (valueChange)="activeTab.set($event)"
      [attr.data-active]="activeTab()"
    >
      <p-tablist>
        <p-tab value="0">About Me</p-tab>
        <p-tab value="1">My Game</p-tab>
      </p-tablist>
      <p-tabpanels>
        <p-tabpanel value="0">
          <app-about-tab></app-about-tab>
        </p-tabpanel>
        <p-tabpanel value="1">
          <app-game-tab></app-game-tab>
        </p-tabpanel>
      </p-tabpanels>
    </p-tabs>
  </main>

  <!-- Footer -->
  <app-footer></app-footer>
</div>
<style>
  /* Custom Tabs styling */
  ::ng-deep .custom-tabs .p-tablist {
    background: linear-gradient(
      135deg,
      var(--app-accent) 0%,
      var(--app-accent-2) 100%
    );
  }

  ::ng-deep .custom-tabs .p-tab {
    color: rgba(255, 255, 255, 0.8);
    font-weight: 500;
  }

  ::ng-deep .custom-tabs .p-tab.p-highlight {
    color: #ffffff;
    font-weight: 700;
    background: rgba(255, 255, 255, 0.28);
    box-shadow: inset 0 -2px 0 rgba(255, 255, 255, 0.6);
  }

  html:not(.theme-dark) ::ng-deep .custom-tabs .p-tab {
    color: rgba(31, 41, 55, 0.7);
  }

  html:not(.theme-dark) ::ng-deep .custom-tabs .p-tab.p-highlight {
    color: #111827;
    font-weight: 700;
    background: rgba(17, 24, 39, 0.12);
    box-shadow: inset 0 -2px 0 rgba(17, 24, 39, 0.45);
  }

  ::ng-deep .custom-tabs[data-active="0"] .p-tab[value="0"],
  ::ng-deep .custom-tabs[data-active="1"] .p-tab[value="1"] {
    font-weight: 700;
  }

  ::ng-deep .custom-tabs .p-tabpanels {
    background: var(--app-surface);
    color: var(--app-text);
    padding: 2rem;
  }
</style>
